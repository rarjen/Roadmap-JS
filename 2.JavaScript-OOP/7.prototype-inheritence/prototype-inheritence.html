<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>prototype-inheritence</title>
  </head>
  <body>
    <script>
      {
        //Prototype Inheritece Salah (1)

        function Employee(name) {
          this.name = name;
        }

        function Manager(name) {
          this.name = name;
        }

        //menurunkan prototype yg salah
        Manager.prototype = Employee.prototype; //cara salah (mereplace manager.proto ke employee.proto)

        Manager.prototype.sayHello = function (name) {
          console.info(`Hello ${name}, my name is Manager ${this.name}`);
        };

        //yang paling bawah ini akan meng-override prototype yg atas (manager.prototype)
        Employee.prototype.sayHello = function (name) {
          console.info(`Hello ${name}, my name is Employee ${this.name}`);
        };

        //Prototype Inheritence salah (2);

        const employee = new Employee("otniel");
        employee.sayHello("leinto"); //hello leinto my name is Employee otniel

        const manager = new Manager("kobayashi");
        manager.sayHello("tohru"); //hello tohru my name is Employee kobayashi
        //harusnya : hello tohru my name is Manager kobayashi
      }

      {
        //Prototype Inheritence benar (1)

        function Employee(name) {
          this.name = name;
        }

        function Manager(name) {
          this.name = name;
        }

        //benar
        //membikin object baru dimana protonya di set ke Employee.prototype
        Manager.prototype = Object.create(Employee.prototype);

        Manager.prototype.sayHello = function (name) {
          console.info(`Hello ${name}, my name is Manager ${this.name}`);
        };

        Employee.prototype.sayHello = function (name) {
          console.info(`Hello ${name}, my name is Employee ${this.name}`);
        };

        const employee = new Employee("otniel");
        employee.sayHello("leinto"); //hello leinto my name is Employee otniel

        const manager = new Manager("kobayashi");
        manager.sayHello("tohru"); //hello tohru my name is Manager kobayashi

        //mengecek apakah prototype sudah diwariskan
        console.info(employee);
        console.info(manager);
      }
    </script>
  </body>
</html>
